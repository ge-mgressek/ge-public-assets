(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))F(x);new MutationObserver(x=>{for(const C of x)if(C.type==="childList")for(const L of C.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&F(L)}).observe(document,{childList:!0,subtree:!0});function M(x){const C={};return x.integrity&&(C.integrity=x.integrity),x.referrerPolicy&&(C.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?C.credentials="include":x.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function F(x){if(x.ep)return;x.ep=!0;const C=M(x);fetch(x.href,C)}})();const ve="/assets/E-WEB-Goal-01-ITieLZ3b.png",_e=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"})),xe="/assets/E-WEB-Goal-02-BBloluBi.png",we=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),Ce="/assets/E-WEB-Goal-03-BehFylIf.png",Se=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"})),Ie="/assets/E-WEB-Goal-04-CLpmEH_u.png",Pe=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"})),Ge="/assets/E-WEB-Goal-05-ij8yFWz8.png",Be=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"})),Oe="/assets/E-WEB-Goal-06-W0jpgTah.png",Ae=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})),We="/assets/E-WEB-Goal-07-60yXuO04.png",Te=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"})),Me="/assets/E-WEB-Goal-08-BfiPexq7.png",De=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),Le="/assets/E-WEB-Goal-09-CnH43Fhv.png",Ne=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"})),ke="/assets/E-WEB-Goal-10-DbPQs36L.png",Fe=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"})),He="/assets/E-WEB-Goal-11-CudsWUhu.png",je=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"})),Re="/assets/E-WEB-Goal-12-D3Hn3wdO.png",ze=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),Ue="/assets/E-WEB-Goal-13-KKYni0Nn.png",qe=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),Ye="/assets/E-WEB-Goal-14-CowimljK.png",$e=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),Xe="/assets/E-WEB-Goal-15-DghaR9aD.png",Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"})),Ze="/assets/E-WEB-Goal-16-BETGmyIU.png",Ke=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"})),Qe="/assets/E-WEB-Goal-17-DhnIRWmJ.png",Je=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"})),et="/assets/GE-PalmFrond-Bpbzk4B7.png",tt="/assets/CoconutTree-BWgvx6Ru.png",oe="/assets/GE-SDG-Wheel-UD_MoTlG.png",ae="/assets/GE-CPU-DKb_GrLS.png",ot="/assets/Recycle-C6QYg_S0.png",at="/assets/GE-Logo-Tile-DirC0yo6.png";document.addEventListener("DOMContentLoaded",()=>{const f=document.getElementById("co2-animation-canvas");if(f){let v=function(){const a=f.parentElement;f.width=a.offsetWidth,f.height=a.offsetHeight;const s=f.height/2+30;d.x=f.width/2-d.width/2,d.y=s,b.radius=Math.min(f.width,f.height)*.1,b.x=f.width*.25,b.y=d.y+d.height/2,r.size=b.radius*2,r.x=f.width*.75,r.y=b.y-r.size/2,y()},y=function(){e=[];for(let a=0;a<o;a++)e.push(new R)},D=function(a){r.lastStateChange||(r.lastStateChange=a);const s=a-r.lastStateChange;switch(r.state){case"DRAWING_HOUSE":r.alpha=1,r.drawProgress=Math.min(1,s/A.DRAWING_HOUSE),s>=A.DRAWING_HOUSE&&(r.state="SHOWING_HOUSE",r.lastStateChange=a);break;case"SHOWING_HOUSE":s>=A.SHOWING_HOUSE&&(r.state="SHOWING_RECYCLE",r.lastStateChange=a);break;case"SHOWING_RECYCLE":s>=A.SHOWING_RECYCLE&&(r.state="FADING_OUT",r.lastStateChange=a);break;case"FADING_OUT":r.alpha=1-s/A.FADING_OUT,r.alpha<=0&&(r.alpha=0,r.state="DRAWING_HOUSE",r.lastStateChange=a,r.drawProgress=0);break}},z=function(){switch(I){case"FADING_IN":g=Math.min(1,g+.02),g>=1&&(I="SHOWING",setTimeout(()=>{I="FADING_OUT"},2e3));break;case"FADING_OUT":g=Math.max(0,g-.02),g<=0&&(I="FADING_IN",W=(W+1)%q.length);break}},U=function(a){if(!P)return;const s=r.x,n=r.y+r.size/2;t.beginPath(),t.moveTo(d.x+d.width/2,d.y+d.height/2),t.lineTo(b.x,b.y),t.moveTo(d.x+d.width/2,d.y+d.height/2),t.lineTo(s,n),t.strokeStyle="rgba(212, 175, 55, 0.6)",t.lineWidth=3,t.stroke();const i=(Math.sin(Date.now()/650)+1)/2,h=20+i*30,p=1+i*.15,u=d.width*p,_=d.height*p,B=d.x-(u-d.width)/2,S=d.y-(_-d.height)/2;t.shadowColor="rgba(132, 169, 140, 1)",t.shadowBlur=h,t.drawImage(m,B,S,u,_),t.shadowBlur=0,t.save(),t.translate(b.x,b.y),t.rotate(b.rotation),t.drawImage(l,-b.radius,-b.radius,b.radius*2,b.radius*2),t.restore(),b.rotation-=.002,z(),t.font=`bold ${Math.max(10,f.width*.012)}px Inter, sans-serif`,t.textAlign="center",t.fillStyle=`rgba(255, 255, 255, ${g})`,t.shadowColor="rgba(0,0,0,0.8)",t.shadowBlur=4,t.fillText(q[W].name,b.x,b.y+b.radius+25),t.shadowBlur=0,D(a),t.save(),t.globalAlpha=r.alpha,t.translate(r.x,r.y),t.scale(r.size/100,r.size/100),t.strokeStyle="white",t.lineWidth=3,t.setLineDash([400,400]),t.lineDashOffset=400-r.drawProgress*400,t.stroke(G),t.setLineDash([]),t.font=`bold ${Math.max(10,f.width*.012)}px Inter, sans-serif`,t.textAlign="center",t.fillStyle="white",t.shadowColor="rgba(0,0,0,0.8)",t.shadowBlur=4;let O=0;r.state==="DRAWING_HOUSE"&&r.drawProgress>.5?O=(r.drawProgress-.5)*2:(r.state==="SHOWING_HOUSE"||r.state==="SHOWING_RECYCLE")&&(O=1),t.globalAlpha=r.alpha*O,r.state==="SHOWING_RECYCLE"?(t.drawImage(E,55/2,38/2+5,45,45),t.fillText("Local Recyclability = Permanence",50,115)):t.fillText("CO2 locked for 100+ years",50,115),t.restore()},T=function(a){c=requestAnimationFrame(T),r.lastStateChange||(r.lastStateChange=a),t.clearRect(0,0,f.width,f.height),e.forEach(s=>{s.update(),s.draw()}),U(a)};var lt=v,ct=y,dt=D,ut=z,gt=U,ht=T;const t=f.getContext("2d");let e=[];const o=300;let c;const m=new Image;m.src=ae;const l=new Image;l.src=oe;const E=new Image;E.src=ot;const G=new Path2D("M4.39999 37.8L50.4 4.79999L96.4 37.8V83H4.39999V37.8Z");let P=!1;Promise.all([new Promise(a=>{m.onload=()=>a()}),new Promise(a=>{l.onload=()=>a()}),new Promise(a=>{E.onload=()=>a()})]).then(()=>{P=!0,c||(v(),T())});const d={x:0,y:0,width:120,height:120},b={x:0,y:0,radius:0,rotation:0},r={x:0,y:0,size:0,state:"DRAWING_HOUSE",alpha:0,drawProgress:0,lastStateChange:0};let W=0,g=0,I="FADING_IN";class R{constructor(){this.reset()}reset(){const s=Math.floor(Math.random()*4);s===0?(this.x=Math.random()*f.width,this.y=-10):s===1?(this.x=f.width+10,this.y=Math.random()*f.height):s===2?(this.x=Math.random()*f.width,this.y=f.height+10):(this.x=-10,this.y=Math.random()*f.height),this.radius=Math.random()*2+1,this.opacity=Math.random()*.5+.2,this.speedX=0,this.speedY=0,this.vx=(Math.random()-.5)*.2,this.vy=(Math.random()-.5)*.2}draw(){t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.fillStyle=`rgba(255, 255, 255, ${this.opacity})`,t.fill()}update(){const s=d.x+d.width/2-this.x,n=d.y+d.height/2-this.y,i=Math.sqrt(s*s+n*n);this.speedX+=s/i*.05,this.speedY+=n/i*.05,this.x+=this.speedX+this.vx,this.y+=this.speedY,this.speedX*=.98,this.speedY*=.98,Math.sqrt(Math.pow(this.x-(d.x+d.width/2),2)+Math.pow(this.y-(d.y+d.height/2),2))<d.width/2&&this.reset()}}const A={DRAWING_HOUSE:3e3,SHOWING_HOUSE:2500,SHOWING_RECYCLE:2500,FADING_OUT:1e3};window.addEventListener("resize",()=>{c&&cancelAnimationFrame(c),v(),T()})}let w=0;M();function M(){let t,e=document.getElementsByClassName("slide");if(e.length!==0){for(t=0;t<e.length;t++)e[t].style.display="none";w++,w>e.length&&(w=1),e[w-1].style.display="block",setTimeout(M,4e3)}}const F={id:"povertyLine",afterDraw:t=>{if(t.config.type==="bar"&&t.options.indexAxis==="y"){const o=t.ctx,c=t.scales.y,m=t.scales.x;o.save(),o.beginPath(),o.moveTo(m.getPixelForValue(1332),c.top),o.lineTo(m.getPixelForValue(1332),c.bottom),o.lineWidth=2,o.strokeStyle="#ef4444",o.setLineDash([6,6]),o.stroke(),o.restore(),o.save(),o.fillStyle="#ef4444",o.textAlign="center",o.font="12px Inter, sans-serif",o.fillText("Poverty Line",m.getPixelForValue(1332),t.chartArea.bottom+35),o.restore()}}};Chart.register(F);const x={people:{type:"bar",data:{labels:["Before Globe-Eco","After Globe-Eco"],datasets:[{label:"Avg. Annual Farmer Income (USD)",data:[500,1750],backgroundColor:["#FCA5A5","#84A98C"],borderColor:["#EF4444","#365314"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{color:"#374151"},max:2e3},y:{ticks:{color:"#374151"}}},layout:{padding:{bottom:40}},plugins:{legend:{display:!1},title:{display:!0,text:"Farmer Income Increase",color:"#374151",font:{size:16}}},animation:{duration:1500,easing:"easeInOutQuart"}}},lca:{type:"bar",data:{labels:["Net Removal"],datasets:[{label:"kg CO₂eq per m³",data:[-1643],backgroundColor:["#365314"]}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:t=>`${t.parsed.x} kg CO₂eq (Net Removal)`}}},scales:{x:{ticks:{color:"#374151"}},y:{ticks:{color:"#374151"}}}}},growth:{type:"line",data:{labels:["Y0","Y1","Y2","Y3","Y4","Y5","Y6","Y7"],datasets:[{label:"Total Units (Cumulative)",data:[3,15,75,300,1200,4e3,7e3,1e4],borderColor:"#365314",backgroundColor:"rgba(54, 83, 20, 0.1)",fill:!0,yAxisID:"y",tension:.4},{label:"Annual CO2e Removed (Million Tons)",data:[.072,.36,1.8,7.2,28.8,440,770,1100],borderColor:"#D4AF37",backgroundColor:"rgba(212, 175, 55, 0.1)",fill:!0,yAxisID:"y1",tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{color:"#374151"}},tooltip:{callbacks:{label:function(t){let e=t.dataset.label||"";return e&&(e+=": "),t.parsed.y!==null&&(e+=new Intl.NumberFormat("en-US").format(t.parsed.y),t.dataset.yAxisID==="y1"&&(e+=" M tons")),e}}}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Total Units (Cumulative)",color:"#365314"},ticks:{color:"#365314"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Annual CO2e Removed (M tons)",color:"#D4AF37"},grid:{drawOnChartArea:!1},ticks:{color:"#D4AF37"}},x:{ticks:{color:"#374151"}}}}}};let C={};const L=(t,e)=>{const o=document.getElementById(t).getContext("2d");C[t]&&C[t].destroy(),C[t]=new Chart(o,e)},q=[{id:1,name:"No Poverty",color:"#E5243B",description:"Provides a +250% income increase to farmers, lifting families from <$2/day."},{id:2,name:"Zero Hunger",color:"#DDA63A",description:"Promotes sustainable agriculture and improves food security through intercropping."},{id:3,name:"Good Health and Well-being",color:"#4C9F38",description:"Reduces air pollution by eliminating biomass burning, improving respiratory health."},{id:4,name:"Quality Education",color:"#C5192D",description:"Provides materials for building schools and increased family income supports education."},{id:5,name:"Gender Equality",color:"#FF3A21",description:"Empowers women in rural communities with new economic opportunities."},{id:6,name:"Clean Water and Sanitation",color:"#26BDE2",description:"Protects watersheds by reducing deforestation and land degradation."},{id:7,name:"Affordable and Clean Energy",color:"#FCC30B",description:"CPUs are self-powered by biomass gasification, providing off-grid energy."},{id:8,name:"Decent Work and Economic Growth",color:"#A21942",description:"Creates thousands of high-tech jobs and stimulates local economies."},{id:9,name:"Industry, Innovation and Infrastructure",color:"#FD6925",description:"Builds resilient, sustainable infrastructure with carbon-negative materials."},{id:10,name:"Reduced Inequality",color:"#DD1367",description:"Reduces inequality by providing wealth creation opportunities in rural areas."},{id:11,name:"Sustainable Cities and Communities",color:"#FD9D24",description:"Supplies sustainable, affordable building materials for housing and public works."},{id:12,name:"Responsible Consumption and Production",color:"#BF8B2E",description:"Creates a circular economy model by upcycling agricultural waste."},{id:13,name:"Climate Action",color:"#3F7E44",description:"Delivers gigaton-scale, permanent carbon dioxide removal."},{id:14,name:"Life Below Water",color:"#0A97D9",description:"Stay tuned: Diverts thousands of tons of plastic waste, preventing it from reaching oceans."},{id:15,name:"Life on Land",color:"#56C02B",description:"Reduces demand for logging, protecting forests and biodiversity."},{id:16,name:"Peace, Justice and Strong Institutions",color:"#00689D",description:"Promotes fair trade practices and economic stability in developing regions."},{id:17,name:"Partnerships for the Goals",color:"#19486A",description:"Forms public-private partnerships to mobilize investment for the SDGs."}],$=document.getElementById("sdg-grid"),H=document.getElementById("sdg-tooltip"),ne=Object.assign({"/assets/images/E-WEB-Goal-01.png":_e,"/assets/images/E-WEB-Goal-02.png":we,"/assets/images/E-WEB-Goal-03.png":Se,"/assets/images/E-WEB-Goal-04.png":Pe,"/assets/images/E-WEB-Goal-05.png":Be,"/assets/images/E-WEB-Goal-06.png":Ae,"/assets/images/E-WEB-Goal-07.png":Te,"/assets/images/E-WEB-Goal-08.png":De,"/assets/images/E-WEB-Goal-09.png":Ne,"/assets/images/E-WEB-Goal-10.png":Fe,"/assets/images/E-WEB-Goal-11.png":je,"/assets/images/E-WEB-Goal-12.png":ze,"/assets/images/E-WEB-Goal-13.png":qe,"/assets/images/E-WEB-Goal-14.png":$e,"/assets/images/E-WEB-Goal-15.png":Ve,"/assets/images/E-WEB-Goal-16.png":Ke,"/assets/images/E-WEB-Goal-17.png":Je});q.forEach(t=>{const e=document.createElement("div");e.className="sdg-grid-item rounded-md p-2 cursor-pointer";const o=document.createElement("img"),c=`/assets/images/E-WEB-Goal-${String(t.id).padStart(2,"0")}.png`;o.src=ne[c].default,o.alt=`SDG Goal ${t.id}`,o.className="w-full h-auto",e.appendChild(o),e.addEventListener("mouseover",()=>{H.textContent=t.description}),e.addEventListener("mouseout",()=>{H.textContent="Hover over a goal to see our contribution."}),$.appendChild(e)});const N=document.createElement("div");N.className="sdg-grid-item rounded-md p-2 cursor-pointer";const j=document.createElement("img");j.src=at,j.alt="Globe-Eco Logo",j.className="w-full h-auto",N.appendChild(j),N.addEventListener("mouseover",()=>{H.textContent="People, Planet, Prosperity"}),N.addEventListener("mouseout",()=>{H.textContent="Hover over a goal to see our contribution."}),$.appendChild(N);const ie=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1});document.querySelectorAll(".section-fade-in").forEach(t=>{ie.observe(t)});const re=new IntersectionObserver((t,e)=>{t.forEach(o=>{if(o.isIntersecting){const c=o.target.id;let m;c==="peopleChart"?m="people":c==="lcaChart"?m="lca":c==="growthChart"&&(m="growth");const l=x[m];l&&L(c,l),e.unobserve(o.target)}})},{threshold:.5});document.querySelectorAll(".chart-container canvas").forEach(t=>{re.observe(t)});const le=document.getElementById("sdg-grid");new IntersectionObserver((t,e)=>{t.forEach(o=>{o.isIntersecting&&(o.target.querySelectorAll(".sdg-grid-item").forEach((m,l)=>{setTimeout(()=>{m.classList.add("sdg-item-animate"),setTimeout(()=>{m.classList.remove("sdg-item-animate")},500)},l*100)}),e.unobserve(o.target))})},{threshold:.5}).observe(le);const X=document.getElementById("unmute-button"),Y=document.getElementById("buko-joe-video"),V=document.getElementById("mute-icon"),Z=document.getElementById("unmute-icon");X&&Y&&V&&Z&&X.addEventListener("click",()=>{Y.muted=!Y.muted,V.classList.toggle("hidden"),Z.classList.toggle("hidden")});const ce=document.getElementById("mobile-menu-button"),K=document.getElementById("mobile-menu");ce.addEventListener("click",()=>{K.classList.toggle("hidden")}),document.querySelectorAll("#mobile-menu a").forEach(t=>{t.addEventListener("click",()=>{K.classList.add("hidden")})}),document.getElementById("main-header");const de=document.querySelectorAll(".nav-link"),ue=document.querySelectorAll("main section");window.addEventListener("scroll",()=>{let t="";ue.forEach(e=>{const o=e.offsetTop;pageYOffset>=o-80&&(t=e.getAttribute("id"))}),de.forEach(e=>{e.classList.remove("active"),e.getAttribute("href").substring(1)===t&&e.classList.add("active")})});const ge=()=>{const t=document.getElementById("particle-ring-v1");if(!t)return;function e(){t.innerHTML="";const o=12,c=50;for(let m=0;m<o;m++){const l=m/o*360,E=document.createElement("div");E.className="co2-particle-v1",E.textContent="CO₂";const G=c+c*Math.cos(l*Math.PI/180),P=c+c*Math.sin(l*Math.PI/180);E.style.left=`${G}%`,E.style.top=`${P}%`,t.appendChild(E)}}e()},he=()=>{const t=document.getElementById("co2-particle-container-v2");if(!t)return;const e=document.getElementById("path-house-base"),o=document.getElementById("path-house-roof");let c,m,l=[],E;function G(g){if(!g)return;const I=g.getTotalLength();g.style.strokeDasharray=I,g.style.strokeDashoffset=I,g.style.opacity="1",g.classList.remove("draw-animation")}function P(){G(e),G(o),e.offsetWidth,e.style.animationDuration="2s",e.classList.add("draw-animation"),setTimeout(()=>{o.style.animationDuration="1.5s",o.classList.add("draw-animation")},2e3),c=setTimeout(d,6500)}function d(){e.style.opacity="0",o.style.opacity="0",c=setTimeout(P,2e3)}function b(){const g={};g.element=document.createElement("div"),g.element.className="co2-particle-v2",g.element.textContent="CO₂",g.startTime=Date.now(),g.duration=2500,g.p0={x:80,y:-10},g.p1={x:80,y:200},g.p2={x:160,y:300},g.p3={x:240,y:260},l.push(g),t.appendChild(g.element)}function r(){const g=Date.now();for(let I=l.length-1;I>=0;I--){const v=l[I];let y=(g-v.startTime)/v.duration;if(y>=1){v.element.remove(),l.splice(I,1);continue}const A=Math.pow(1-y,3)*v.p0.x+3*Math.pow(1-y,2)*y*v.p1.x+3*(1-y)*y*y*v.p2.x+y*y*y*v.p3.x,D=Math.pow(1-y,3)*v.p0.y+3*Math.pow(1-y,2)*y*v.p1.y+3*(1-y)*y*y*v.p2.y+y*y*y*v.p3.y;v.element.style.transform=`translate(${A}px, ${D}px)`}E=requestAnimationFrame(r)}function W(){clearTimeout(c),clearInterval(m),cancelAnimationFrame(E),t.innerHTML="",l=[],P(),m=setInterval(b,500),r()}W()},me=()=>{const t=document.getElementById("coreAnimationCanvas");if(!t)return;const e=t.getContext("2d");let o={},c=[],m=!1;const l={frond:new Image,tree:new Image,sdg:new Image,cpu:new Image};let E=0;const G=Object.keys(l).length;function P(){E++,E===G&&!m&&(m=!0,d(),T())}l.frond.src=et,l.tree.src=tt,l.sdg.src=oe,l.cpu.src=ae,Object.values(l).forEach(a=>{a.onload=P,a.onerror=()=>console.error(`Failed to load image: ${a.src}`)});function d(){const a=t.parentElement,s=window.devicePixelRatio||1;t.width=a.clientWidth*s,t.height=a.clientHeight*s,e.scale(s,s);const n=t.clientWidth,i=t.clientHeight;o={tree:{x:n*.15,y:i*.7,width:n*.12,height:n*.12*(l.tree.height/l.tree.width)},tree2:{x:n*.08,y:i*.7,width:n*.1,height:n*.1*(l.tree.height/l.tree.width)},tree3:{x:n*.03,y:i*.7,width:n*.08,height:n*.08*(l.tree.height/l.tree.width)},conveyor:{y:i*.7,startX:n*.22,endX:n*.45},fronds:[],core:{x:n*.5,y:i*.7,radius:n*.07,glow:1,glowSpeed:.05,pulsing:!1,pulseDuration:100,pulseTimer:0},carbonCounter:{value:0,increment:.125},sdg:{x:n*.5,y:i*.25,size:n*.08*1.5,rotation:0},house:{x:n*.8,y:i*.7,width:n*.1,height:n*.075,buildProgress:0,maxProgress:100,state:"ready",completionTime:0},captions:{texts:["CO2 infused plantation waste","Funding plantation CO2 productivity","Economic Engine funds CO2-benefits","CO2 durably stored"],positions:[{x:n*.15,y:i*.85},{x:n*.15,y:i*.15},{x:n*.85,y:i*.15},{x:n*.85,y:i*.85}],currentIndex:0,alpha:0,state:"FADING_IN",lastChange:Date.now(),showDuration:3e3,fadeDuration:500}},b()}function b(){const a=t.clientWidth,s=3,n=a*.15;o.fronds=[];for(let i=0;i<s;i++)o.fronds.push({id:i,x:o.conveyor.startX-(s-i)*n,y:t.clientHeight*.7-10,width:a*.1,height:a*.1*(l.frond.height/l.frond.width),speed:2,co2Particle:{offsetX:(Math.random()*.4+.3)*(a*.1),offsetY:(Math.random()-.5)*(a*.1*(l.frond.height/l.tree.width))*.5,radius:a*.008,opacity:1}})}function r(a,s,n){let i,h,p,u,_,B,S;n==="carbonRay"?(i=o.house.x,h=o.core.y,p="rgba(150, 150, 150, 0.5)",u=80,S=Math.random()*2+1,_=(i-a)/u,B=(h-s)/u):n==="value"?(i=o.sdg.x,h=o.sdg.y,p=`rgba(252, 211, 77, ${Math.random()*.5+.5})`,u=120,S=Math.random()*2+1,_=(i-a)/u,B=(h-s)/u):n==="rejuvenation"&&(i=o.tree.x,h=o.tree.y-o.tree.height/2,p=`rgba(74, 222, 128, ${Math.random()*.5+.5})`,u=120,S=Math.random()*2.5+1.5,_=(i-a)/u,B=(h-s)/u),_!==void 0&&c.push({x:a,y:s,vx:_,vy:B,radius:S,color:p,type:n,life:u})}function W(){if(!o)return;const{house:a,sdg:s,tree:n,tree2:i,tree3:h}=o;e.save(),e.translate(h.x,0),e.scale(-1,1),e.drawImage(l.tree,-h.width/2,h.y-h.height,h.width,h.height),e.restore(),e.save(),e.translate(i.x,0),e.scale(-1,1),e.drawImage(l.tree,-i.width/2,i.y-i.height,i.width,i.height),e.restore(),e.save(),e.translate(n.x,0),e.scale(-1,1),e.drawImage(l.tree,-n.width/2,n.y-n.height,n.width,n.height),e.restore(),e.save(),e.translate(s.x,s.y),e.rotate(s.rotation),e.drawImage(l.sdg,-s.size/2,-s.size/2,s.size,s.size),e.restore()}function g(){if(!o||!o.conveyor)return;const{y:a,startX:s,endX:n}=o.conveyor;e.strokeStyle="#475569",e.lineWidth=2,e.beginPath(),e.moveTo(s,a),e.lineTo(n,a),e.stroke()}function I(){!o||!o.fronds||o.fronds.forEach(a=>{e.drawImage(l.frond,a.x,a.y-a.height,a.width,a.height);const s=a.co2Particle;if(s&&s.opacity>0){e.globalAlpha=s.opacity;const n=a.x+s.offsetX,i=a.y-a.height/2+s.offsetY;e.fillStyle="rgba(203, 213, 225, 1)",e.beginPath(),e.arc(n,i,s.radius,0,Math.PI*2),e.fill(),e.fillStyle="black",e.font=`bold ${s.radius*1.2}px Inter`,e.textAlign="center",e.textBaseline="middle",e.fillText("C",n,i),e.globalAlpha=1}})}function v(){if(!o||!o.core)return;const{x:a,y:s,radius:n,glow:i}=o.core,h=n*1.2*i,p=e.createRadialGradient(a,s,n*.7,a,s,h);p.addColorStop(0,"rgba(56, 189, 248, 0.5)"),p.addColorStop(1,"rgba(56, 189, 248, 0)"),e.fillStyle=p,e.beginPath(),e.arc(a,s,h,0,Math.PI*2),e.fill();const u=e.createRadialGradient(a,s,0,a,s,n);u.addColorStop(0,"rgba(207, 250, 254, 1)"),u.addColorStop(.7,"rgba(56, 189, 248, 1)"),u.addColorStop(1,"rgba(14, 116, 144, 1)"),e.fillStyle=u,e.beginPath(),e.arc(a,s,n,0,Math.PI*2),e.fill();const _=n*1.2;e.drawImage(l.cpu,a-_/2,s-_/2,_,_)}function R(){if(!o||!o.core)return;const{x:a,y:s}=o.core;e.fillStyle="white",e.font=`bold ${t.clientWidth*.015}px Inter`,e.textAlign="center",e.fillText(`Carbon Dioxide: ${Math.floor(o.carbonCounter.value)} T`,a,s+o.core.radius+25)}function y(){const a=o.sdg;c.forEach((s,n)=>{s.x+=s.vx,s.y+=s.vy,s.life--;let i=s.life<=0;if(s.type==="value"){const h=s.x-a.x,p=s.y-a.y;Math.sqrt(h*h+p*p)<a.size/2&&(i=!0)}else s.type==="carbonRay"&&s.x>=o.house.x&&(i=!0);i?(s.type==="carbonRay"&&o.house.buildProgress<o.house.maxProgress&&o.house.state==="building"&&(o.house.buildProgress+=2,o.house.buildProgress>=o.house.maxProgress&&(o.house.state="completed",o.house.completionTime=Date.now())),c.splice(n,1)):(e.beginPath(),e.arc(s.x,s.y,s.radius,0,Math.PI*2),e.fillStyle=s.color,e.fill())})}function A(){if(!o||!o.house)return;const{x:a,y:s,width:n,height:i,buildProgress:h,state:p}=o.house;if(e.strokeStyle="#64748b",e.lineWidth=2,h>0||p==="completed"){const u=Math.min(h,100);if(u>0){e.fillStyle="#94a3b8";const S=i*.1;e.fillRect(a,s-S,n,S),e.strokeRect(a,s-S,n,S)}const _=Math.max(0,Math.min(1,(u-10)/50));if(_>0){const O=i*.375*_;e.fillStyle="#d1d5db",e.fillRect(a,s-i*.1-O,n,O),e.strokeRect(a,s-i*.1-O,n,O)}const B=Math.max(0,(u-60)/40);B>0&&(e.fillStyle="#4b5563",e.globalAlpha=B,e.beginPath(),e.moveTo(a-5,s-i*.475),e.lineTo(a+n/2,s-i*.75),e.lineTo(a+n+5,s-i*.475),e.closePath(),e.fill(),e.stroke(),e.globalAlpha=1)}}function D(a){if(!o||!o.captions)return;const{captions:s}=o,{state:n,fadeDuration:i,showDuration:h}=s,p=a-s.lastChange;switch(n){case"FADING_IN":s.alpha=Math.min(1,s.alpha+p/i),s.alpha>=1&&(s.alpha=1,s.state="SHOWING",s.lastChange=a);break;case"SHOWING":p>=h&&(s.state="FADING_OUT",s.lastChange=a);break;case"FADING_OUT":s.alpha=Math.max(0,s.alpha-p/i),s.alpha<=0&&(s.alpha=0,s.state="FADING_IN",s.currentIndex=(s.currentIndex-1+s.texts.length)%s.texts.length,s.lastChange=a);break}}function z(){if(!o||!o.captions)return;const{captions:a}=o,{texts:s,positions:n,currentIndex:i,alpha:h}=a,p=n[i];e.save(),e.globalAlpha=h,e.fillStyle="rgba(255, 255, 255, 0.8)",e.font=`bold ${t.clientWidth*.015}px Inter`,e.textAlign="center",e.fillText(s[i],p.x,p.y),e.restore()}function U(){if(!o||!o.core||!o.fronds||!o.house||!o.sdg)return;const{core:a,fronds:s,house:n,sdg:i}=o,p=t.clientWidth*.15*s.length;i.rotation-=.002,s.forEach(u=>{const _=u.x;u.x+=u.speed;const B=a.x-a.radius-(u.x+u.width*.8);u.co2Particle&&(u.co2Particle.opacity=Math.max(0,B/50));const S=a.x-a.radius*2,O=_<S&&u.x>=S;u.x>a.x-a.radius&&(u.x-=p,n.state==="ready"&&(n.state="building"),u.co2Particle&&(u.co2Particle.opacity=1)),O&&(a.pulsing=!0,a.pulseTimer=a.pulseDuration,a.glowSpeed=Math.abs(a.glowSpeed))}),a.pulsing?(a.glow+=a.glowSpeed,a.glow>=1.8?a.glowSpeed=-.08:a.glow<=1&&(a.glowSpeed=.06),a.pulseTimer>0?(a.pulseTimer--,o.carbonCounter.value+=o.carbonCounter.increment):(a.pulsing=!1,a.glow=Math.max(1,a.glow-.05))):a.glow>1?a.glow=Math.max(1,a.glow-.03):a.glow=1,Math.random()>.7&&r(a.x,a.y,"carbonRay"),n.state==="building"&&n.buildProgress>0&&n.buildProgress<n.maxProgress&&Math.random()>.8&&r(n.x+n.width/2,n.y-n.height/2,"value"),Math.random()>.95&&r(i.x,i.y,"rejuvenation"),n.state==="completed"&&Date.now()-n.completionTime>4e3&&(n.buildProgress=0,n.state="ready",n.completionTime=0),D(Date.now())}function T(){requestAnimationFrame(T),e.clearRect(0,0,t.clientWidth,t.clientHeight),W(),g(),v(),R(),I(),A(),y(),z(),U()}window.addEventListener("resize",()=>{m&&d()})};ge(),he(),me();const Q=document.getElementById("contact-grid"),fe=document.querySelectorAll(".modal"),pe=document.querySelectorAll('.modal button[class*="absolute"]');let J="";function ye(t,e){const o=document.getElementById(t);o&&(o.classList.remove("hidden"),o.classList.add("visible"),J=e)}function ee(t){t.classList.add("hidden"),t.classList.remove("visible");const e=t.querySelector("form");if(e&&(e.reset(),te(e),window.turnstile)){const o=e.querySelector(".cf-turnstile");o&&turnstile.reset(o)}}Q&&Q.addEventListener("click",t=>{const e=t.target.closest(".card");if(e){const o=e.dataset.modal,c=e.dataset.email;o&&c&&ye(o,c)}}),pe.forEach(t=>{t.addEventListener("click",()=>{ee(t.closest(".modal"))})}),fe.forEach(t=>{t.addEventListener("click",o=>{o.target===t&&ee(t)});const e=t.querySelector("form");e&&e.addEventListener("submit",o=>Ee(o,e))});function k(t,e){const o=t.querySelector(".error-message");o.textContent=e}function te(t){const e=t.querySelector(".error-message");e.textContent=""}function be(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}async function Ee(t,e){t.preventDefault(),te(e);const o=e.querySelector('button[type="submit"]');o.disabled=!0,o.textContent="Submitting...";const c=new FormData(e),m=c.get("name"),l=c.get("email"),E=c.get("message"),G=c.get("cf-turnstile-response");if(!m||!l||!E){k(e,"Please fill out all required fields."),o.disabled=!1,o.textContent="Submit";return}if(!be(l)){k(e,"Please enter a valid email address."),o.disabled=!1,o.textContent="Submit";return}if(!G){k(e,"CAPTCHA challenge failed. Please refresh and try again."),o.disabled=!1,o.textContent="Submit";return}try{const P=await fetch("https://api.globe-eco.com",{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"},body:JSON.stringify({name:m,email:l,message:E,emailTo:J,token:G})}),d=await P.json();P.ok?e.innerHTML='<div class="text-center"><h3 class="text-2xl font-bold text-green-400 mb-2">Thank You!</h3><p class="text-white">Your message has been sent successfully.</p></div>':k(e,d.message||"An unknown server error occurred.")}catch{k(e,"A network error occurred. Please try again.")}finally{e.querySelector('button[type="submit"]')&&(o.disabled=!1,o.textContent="Submit")}}});const st=document.getElementById("mobile-menu-button"),se=document.getElementById("mobile-menu");st.addEventListener("click",()=>{se.classList.toggle("hidden")});document.querySelectorAll("#mobile-menu a").forEach(f=>{f.addEventListener("click",()=>{se.classList.add("hidden")})});document.getElementById("main-header");const nt=document.querySelectorAll(".nav-link"),it=document.querySelectorAll("main section");window.addEventListener("scroll",()=>{let f="";it.forEach(w=>{const M=w.offsetTop;pageYOffset>=M-80&&(f=w.getAttribute("id"))}),nt.forEach(w=>{w.classList.remove("active"),w.getAttribute("href").substring(1)===f&&w.classList.add("active")})});
